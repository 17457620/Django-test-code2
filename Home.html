{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Home Page</title>
    <link rel="stylesheet" href="{% static 'Hcss/Home.css' %}">
</head>

<body>
    <div class="navbar">
        <p class="company">Dunder Mifflin Paper Company, Inc.</p>
        <p class="welcomeTime">Welcome {{ user.username }}. The current time is <span id="Time"></span></p>
        <ul class="navLinks">
            <li><a class="modalBtn" onclick="document.getElementById('logoutModal').style.display='block'">Log Out</a>
            </li>
            <li><a href="{% url 'home' %}" class="modalBtn">Performance Review</a></li> <!--Change Url-->
            {% if user.is_superuser %}
            <li><a href="{% url 'home' %}" class="modalBtn">Create Review</a></li> <!--Change Url-->
            <li><a href="{% url 'home' %}" class="modalBtn">Edit Review</a></li> <!--Change Url-->
            <li><a href="{% url 'register' %}" class="modalBtn">Register Employee</a></li>
            {% endif %}
        </ul>
    </div>
    <div id="logoutModal" class="modalback">
        <form class="logoutModalBox">
            <div>
                <p>Are you sure you want to logout?</p>
                <div class="modalContentBtn">
                    <button type="button" onclick="Logout()" class="logoutBtn">Log Out</button>
                    <button type="button" onclick="document.getElementById('logoutModal').style.display='none'"
                        class="cancelBtn">Cancel</button>
                </div>
            </div>
        </form>
    </div>
    <div id="registerEmployeeModal" class="modalback">
        <form class="registerModalBox" method="POST">
            {% csrf_token %}
            <div>
                <h1>Register New Employee</h1>
                {{ form.as_p }}
                <div class="modalContentBtn">
                    <button type="button" class="registerButton">Register</button>
                    <button type="button"
                        onclick="document.getElementById('registerEmployeeModal').style.display='none'"
                        class="cancelBtn">Cancel</button>
                </div>
            </div>
        </form>
    </div>
    <div class="seperate">
        <div class="homeMain">
            <p>
                The Dunder Mifflin performance planning and review processis intended to assist supervisors to
                review the
                performance of staff annually and develop agreed performance plans based on workload agreements and the
                strategic direction of Dunder Mifflin.
                The Performance Planning and Review system covers both results (what was accomplished), and behaviours
                (how
                those results were achieved). The most important aspect is what will be accomplished in the future and
                how
                this will be achieved within a defined period. The process is continually working towards creating
                improved
                performance and behaviours that align and contribute to the mission and values of Dunder Mifflin.
            </p>
        </div>
    </div>
    <script>
        function Logout() {
            window.location.href = '{% url "logout" %}';
        }
        setInterval(() => {
            var time = new Date();
            document.getElementById("Time").innerHTML = time.toLocaleTimeString();
        }, 1000)
        window.onclick = function (event) {
            var logoutModal = document.getElementById('logoutModal');
            var registerEmployeeModal = document.getElementById('registerEmployeeModal');

            if (event.target == logoutModal) {
                logoutModal.style.display = "none";
            }

            if (event.target == registerEmployeeModal) {
                registerEmployeeModal.style.display = "none";
            }
        }
    </script>
</body>

</html>